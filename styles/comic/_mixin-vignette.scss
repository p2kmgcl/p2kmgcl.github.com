@use 'sass:math';

@mixin border() {
  $selectors: 1, 2, 3, 5, 7, 11;

  @each $selector in $selectors {
    &:nth-child(#{$selector}n + #{$selector}) {
      border-left: solid #222 #{random() * 0.1 + 0.1}em;
      border-right: solid #222 #{random() * 0.1 + 0.1}em;
      border-top: solid #222 #{random() * 0.1 + 0.1}em;
      border-bottom: solid #222 #{random() * 0.1 + 0.1}em;

      [data-color-scheme='dark'] & {
        border-color: #444;
      }
    }
  }
}

@mixin regular() {
  background-image: radial-gradient(
    circle at #{random() * 100%} #{random() * 50%},
    rgba(255, 255, 255, 0.8) 50%,
    rgba(255, 255, 255, 1) 100%
  );

  padding: 1em;
  box-shadow: 0.2em 0.2em 0 rgba(0, 0, 0, 0.1),
    -0.2em -0.2em 0 rgba(0, 0, 0, 0.1);
  box-sizing: border-box;

  [data-color-scheme='dark'] & {
    background-image: radial-gradient(
      circle at #{random() * 100%} #{random() * 50%},
      rgba(0, 0, 0, 0.7) 50%,
      rgba(0, 0, 0, 0.8) 100%
    );
  }
}

@mixin rotated() {
  $selectors: 1, 2, 3, 5, 7, 11;

  @each $selector in $selectors {
    &:nth-child(#{$selector}n + #{$selector}) {
      @include regular();
    }
  }

  @include border();
  @include regular();
}
