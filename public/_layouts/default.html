<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="manifest" href="/manifest.json" />

    <title>{% if page.title != "Index" %}{{ page.title }} | {% endif %}{{ site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description }}" />
    <meta name="theme-color" content="{{ site.themeColor }}" />
    <link rel="alternate" type="application/rss+xml" title="{{ site.title }}" href="/feed.xml" />

    {% for favicon in site.favicons %}
    <link rel="icon" type="image/png" sizes="{{ favicon }}x{{ favicon }}" href="{{ '/favicon/favicon-' | append: favicon | append: '.png' }}" />
    {% endfor %}

    <link rel="preconnect" href="{{ site.url }}" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />

    <script>
      (function () {
        const defaultTheme = '/assets/themes/simplicity.css';
        const theme = localStorage.getItem('random-theme') || defaultTheme;

        localStorage.setItem('random-theme', theme);

        const linkElement = document.createElement('link');
        linkElement.rel = 'stylesheet';
        linkElement.href = theme;

        linkElement.addEventListener('load', () =>
          requestAnimationFrame(() => {
            document.body.style.opacity = '1';
            document.body.style.overflow = 'auto';
          }),
        );

        document.head.appendChild(linkElement);
      })();
    </script>
  </head>
  <body style="opacity: 0; overflow: hidden">
    <main id="wrapper">
      <nav id="main-menu">
        <a href="/">pablomolina.me</a>

        <span id="main-menu-link-list">
          {% for page in site.pages %}{% if page.title != "Index" %}
          <a href="{{ page.url }}">
            {% if page.emoji %}<span class="emoji">{{ page.emoji }}</span>{% endif %}
            <span>{{ page.title }}</span>
          </a>
          {% endif %}{% endfor %}
        </span>
      </nav>

      <div
        id="content"
        class="{% if page.layout == 'default' %}content-page content-page-{{ page.slug }}{% else %}content-{{ page.layout }}{% endif %}"
      >
        {{ content }}
      </div>

      <footer id="footer">
        <h1 id="footer-name">Pablo Molina</h1>
        <a id="footer-email" href="mailto:contact@pablomolina.me"><span class="emoji">📮</span>contact@pablomolina.me</a>

        <nav id="footer-links">
          <a href="https://github.com/p2kmgcl" title="Pablo Molina's Github profile">
            <span class="emoji">🐱</span>
            <span>Github</span>
          </a>
          <a href="https://mobile.twitter.com/p2kmgcl" title="Pablo Molina's Twitter profile">
            <span class="emoji">🐦</span>
            <span>Twitter</span>
          </a>
          <a href="https://www.linkedin.com/in/p2kmgcl/" title="Pablo Molina's LinkedIn profile">
            <span class="emoji">👔</span>
            <span>LinkedIn</span>
          </a>
        </nav>

        <button id="random-theme-button" type="button">
          <span class="emoji">🎲</span>
          <span>Change CSS</span>
        </button>
      </footer>
    </main>

    <script defer async type="module" src="/assets/main.js"></script>
  </body>
</html>
